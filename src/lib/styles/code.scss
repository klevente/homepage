:root {
  --code-background: #e5e7eb;
  /*--lang-background: #cef3f3;*/
  --lang-background: var(--accent);
  --code-ink: #070707;

  --comment: #999999;
  --property: #9d6a89;
  --string: #86615c;
  --operator: #0e1c36;
  --variable: #13293d;
  --function: #a53f2b;
  --keyword: #018184;

  --highlight: #ffff99;
  --highlight-accent: #ffcc99;

  &.dark {
    --code-background: var(--blue-dark);
    --lang-background: var(--accent);
    --code-ink: var(--pastel-white);

    --comment: #857c8d;
    --property: #aa78a6;
    --string: #a37871;
    --operator: #dcdfe4;
    --variable: #f3f4f6;
    --function: #d58936;
    --keyword: var(--cyan-dark);

    --highlight: #705810;
    --highlight-accent: #ffcc99;
  }
}

/* styles for all code blocks and inline code can be found in `./_typography.scss` */

/* code blocks */
pre[class*='language-'] {
  position: relative;
  padding: 1.5rem 0.75rem 1rem;
  border-radius: 0 var(--radius) var(--radius);

  background: var(--code-background);
  color: var(--code-ink);
  overflow-x: auto;


  &:before {
    content: 'Code';
    font-weight: 600;

    top: 0;
    left: 0;
    position: absolute;
    background: var(--lang-background);
    padding: 0 8px 0 8px;
    border-radius: 0 0 var(--radius) 0;
  }
}

pre.language-bash:before {
  content: 'command line';
}

pre.language-css:before {
  content: 'css';
}

pre.language-fs:before {
  content: 'Project files';
}

pre.language-html:before {
  content: 'html';
}

pre.language-js:before,
pre.language-javascript:before {
  content: 'javascript';
}

pre.language-json:before {
  content: 'json'
}

pre.language-markdown:before {
  content: 'markdown';
}

pre.language-nginx:before {
  content: 'nginx config';
}

pre.language-scss:before {
  content: 'scss';
}

pre.language-svelte:before {
  content: 'svelte';
}

pre.language-rust:before {
  content: 'rust';
}

pre.language-toml:before {
  content: 'toml'
}

pre.language-yaml:before,
pre.language-yml:before {
  content: 'yaml'
}

.token {
  &.comment,
  &.prolog,
  &.doctype,
  &.cdata {
    color: var(--comment);
  }

  &.punctuation {
    color: var(--operator);
  }

  &.property,
  &.tag,
  &.boolean,
  &.number,
  &.constant,
  &.symbol,
  &.deleted {
    color: var(--property);
  }

  &.deleted {
    text-decoration: line-through;
  }

  &.selector,
  &.attr-name,
  &.string,
  &.char,
  &.builtin,
  &.inserted {
    color: var(--string);
  }

  &.operator,
  &.entity,
  &.url,
  &.language-css .token.string,
  &.style .token.string {
    color: var(--operator);
  }

  &.atrule,
  &.attr-value,
  &.keyword {
    color: var(--keyword);
  }

  &.function {
    color: var(--function);
  }

  &.regex,
  &.important,
  &.variable {
    color: var(--variable);
  }

  &.important,
  &.bold {
    font-weight: 600;
  }
  &.italic {
    font-style: italic;
  }
  &.entity {
    cursor: help;
  }
}

/* line highlight */
pre[data-line] {
  position: relative;
}
pre[class*='language-'] > code[class*='language-'] {
  position: relative;
  z-index: 1;
}
.line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  margin-top: 1em;
  z-index: 0;
  pointer-events: none;
  line-height: inherit;
  white-space: pre;

  background: var(--highlight);
  box-shadow: inset 5px 0 0 var(--highlight-accent);
}
